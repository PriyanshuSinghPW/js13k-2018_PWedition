function randomizer(f,e,h,g){this.seeda=f||3;this.seedb=e||6;this.seedc=h||6;this.seedd=g||4;this.gen_rnd=function(){var c,b;b=(this.seeda<<1)&255;c=b+this.seedc;if(this.seeda>127){c++}this.seeda=c&255;this.seedc=b;c=c/256;b=this.seedb;c=(c+b+this.seedd)&255;this.seedb=c;this.seedd=b;return c};this.rnd=function(b){var a=this.gen_rnd();if(b>255){a=(a<<8)+this.gen_rnd()}if(b>65535){a=(a<<8)+this.gen_rnd()}return(a%b)}};function timelineobj(){this.timeline=[];this.timelinepos=0;this.timelineepoch=0;this.callback=null;this.add=function(c,b){var a={start:c,item:b,done:false};this.timeline.push(a);this.timeline.sort(function(e,d){return((d.start<e.start)?1:(d.start==e.start)?0:-1)})};this.addcallback=function(a){this.callback=a};this.timelineraf=function(b){var d=0;if(this.timelinepos==0){this.timelineepoch=b}else{var c=b-this.timelineepoch;for(var a=0;a<this.timeline.length;a++){if((!this.timeline[a].done)&&(this.timeline[a].start<c)){this.timeline[a].done=true;this.timeline[a].item()}if(!this.timeline[a].done){d++}}if(this.callback!=null){this.callback()}}this.timelinepos=b;if((this.timelinepos==this.timelineepoch)||(d>0)){window.requestAnimationFrame(this.timelineraf.bind(this))}};this.begin=function(){window.requestAnimationFrame(this.timelineraf.bind(this))}};function dtmf_dial(){this.tonelen=1/5;this.audioCtx=null;this.gainNode=null;this.setupaudio=function(){if(this.audioCtx!=null){return}this.audioCtx=new (window.AudioContext||window.webkitAudioContext)();this.gainNode=this.audioCtx.createGain();this.gainNode.connect(this.audioCtx.destination);this.gainNode.gain.setValueAtTime(0.05,this.audioCtx.currentTime)};this.dial=function(b){var j="123A456B789C*0#D";var c=[697,770,852,941];var k=[1209,1336,1477,1633];this.setupaudio();for(var d=0;d<b.length;d++){var g=j.indexOf(b[d]);if(g>=0){var f=this.audioCtx.currentTime+(d*this.tonelen);var h=this.audioCtx.createOscillator();var a=this.audioCtx.createOscillator();h.connect(this.gainNode);a.connect(this.gainNode);h.frequency.value=c[Math.floor(g/4)];a.frequency.value=k[g%4];h.start(f);h.stop(f+(this.tonelen*0.8));a.start(f);a.stop(f+(this.tonelen*0.8))}}};this.carriertone=function(b){this.setupaudio();var c=this.audioCtx.createOscillator();var a=this.audioCtx.currentTime+(b*this.tonelen)+1.5;c.connect(this.gainNode);c.frequency.value=1650;c.start(a);c.stop(a+3)};this.nowtime=new Date();this.randoms=new randomizer(this.nowtime.getHours()*10,this.nowtime.getMilliseconds()&255,this.nowtime.getMonth()*20,this.nowtime.getSeconds()*4);this.randomdial=function(b){var c="";for(var a=0;a<b;a++){c+=this.randoms.rnd(10)}this.dial(c)}};function gen_music(){this.tune_pop=[];this.tune_weights=0;this.tune_stats=[[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,8,,,,,,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,12,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,12,4,,,,4,,,,4,8,12,9,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,2,,,6,,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,12,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,8,,,,,,,4,,,,,8,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,8,,6,,8,12,,2,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,8,,12,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,38,,,,8,,8,29,,6,,6,3,,,,8,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,12,,,4,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,14,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,4,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,14,,,,,6,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,1,,,4,,2,,8,,,26,,,,9,,,24,2,24,,,2,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,8,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,8,,,,,,,16,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,22,,,,6,8,,18,2,8,,,36,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,8,,,,,,,38,,,,,2,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,5,,,,2,,,,,,,,],[,,,,,,,,,,,,,,,,,,,8,,,,,,,,,15,,4,8,4,,,17,22,,,,2,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2,,,,,,,48,,,4,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,16,,8,,14,,,2,,,,,3,,,,8,8,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,8,,,,,,,,,,,,,,12,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,8,,,4,,,,,,,,2,,12,12,2,6,,21,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,16,,,,26,22,5,,38,,12,,,,,,38,24,,,,8,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,8,,4,,,18,4,,,,,,,,4,36,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,4,,,,,,,12,,,,,,12,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,15,5,4,18,,14,,,,,,4,,18,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12,,,,,,2,24,,12,,,,,12,,18,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,12,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,5,,8,,,8,,6,12,,,,,,,,,12],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,8,,,,,,,6,12,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,4,8,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]];this.build_tune_pop=function(){for(var c=0;c<50;c++){for(var b=0;b<50;b++){var a=(this.tune_stats[c][b]||0);this.tune_pop[(c*50)+b]={dig:c+","+b,score:a};this.tune_weights+=a}}this.tune_pop.sort(function(e,d){return((d.score>e.score)?1:(d.score==e.score)?0:-1)})};this.audioCtx=null;this.gainNodeMusic=null;this.gainNodeCollect=null;this.panNode=null;this.notelen=1/5;this.notenum=0;this.randoms=new randomizer();this.play_collect=function(c){if(this.audioCtx==null){return}var d=this.audioCtx.currentTime;var b=this.audioCtx.createOscillator();var a=this.audioCtx.createOscillator();b.connect(this.gainNodeCollect);b.frequency.value=65.41*Math.pow(2,(c==0?37:45)/12);b.start(d);b.stop(d+(1/8));a.connect(this.gainNodeCollect);a.frequency.value=65.41*Math.pow(2,42/12);a.start(d+(1/8));a.stop(d+(2/8))};this.play_note=function(d,c,g,a){if((c==0)||(this.audioCtx==null)){return}var f=this.audioCtx.currentTime+g;var b=this.audioCtx.createOscillator();b.type=d;b.connect(this.panNode);if(c!=1){this.panNode.pan.setValueAtTime(((c/50)*2)-1,f)}b.frequency.value=65.41*Math.pow(2,c/12);b.start(f);b.stop(f+a)};this.play_tune=function(){if(this.tune_pop.length==0){this.build_tune_pop()}if(this.audioCtx==null){this.audioCtx=new (window.AudioContext||window.webkitAudioContext)();this.gainNodeMusic=this.audioCtx.createGain();this.gainNodeMusic.connect(this.audioCtx.destination);this.gainNodeMusic.gain.setValueAtTime(0.01,this.audioCtx.currentTime);this.gainNodeCollect=this.audioCtx.createGain();this.gainNodeCollect.connect(this.audioCtx.destination);this.gainNodeCollect.gain.setValueAtTime(0.05,this.audioCtx.currentTime);this.panNode=this.audioCtx.createStereoPanner();this.panNode.connect(this.gainNodeMusic)}for(var e=0;e<50;e++){var c="";var f=2;for(var h=0;h<f;h++){var b=this.randoms.rnd(this.tune_weights);for(j=0;j<this.tune_pop.length;j++){if(b<this.tune_pop[j].score){break}b-=this.tune_pop[j].score}c+=","+this.tune_pop[j].dig}var a=c.split(",");for(var g=0;g<2;g++){for(var d=0;d<a.length;d++){this.play_note("square",a[d]||0,this.notenum*this.notelen,this.notelen/1.5);this.play_note("sawtooth",a[1]/4,this.notenum*this.notelen,this.notelen/1.8);this.notenum++}}}this.notenum=0}};var font_8bit=[,,,,68,68,64,64,170,160,,,85,245,245,80,78,142,46,64,162,68,138,,234,136,72,224,68,128,,,104,136,136,96,194,34,34,192,4,228,228,,4,78,68,,,,68,128,,14,,,,,4,64,34,68,136,,74,170,170,64,76,68,68,224,234,46,136,224,234,36,42,224,136,170,226,32,232,226,42,224,234,142,170,224,226,34,34,32,234,164,170,224,234,174,42,224,4,64,4,64,4,64,4,72,2,72,66,,,224,224,,8,66,72,,234,38,64,64,234,162,234,224,234,174,170,160,202,172,170,192,234,136,138,224,202,170,170,192,234,140,138,224,234,140,136,128,234,138,170,224,170,174,170,160,228,68,68,224,226,34,42,224,170,204,170,160,136,136,138,224,174,234,170,160,170,238,234,160,234,170,170,224,234,174,136,128,234,170,172,32,234,174,202,160,234,142,42,224,228,68,68,64,170,170,170,224,170,170,170,64,170,170,238,160,170,68,74,160,170,228,68,64,234,36,138,224,232,136,136,224,8,132,66,32,226,34,34,224,78,160,,,,,,14,136,64,,,,226,234,224,136,234,170,224,,234,138,224,34,234,170,224,,234,232,224,,232,200,128,,234,174,46,136,234,170,160,64,196,68,224,32,98,34,174,136,170,202,160,196,68,68,224,,174,234,160,,234,170,160,,234,170,224,,234,174,136,,234,174,34,,234,136,128,,232,226,224,68,228,68,96,,170,170,224,,170,164,64,,170,238,160,,170,74,160,,170,174,46,,226,72,224,2,100,196,98,4,68,4,68,8,196,100,200,10,232,,];function textwriter(){this.write=function(a,l,m){var f='<span style="white-space:nowrap;">';for(var e=0;e<l.length;e++){var g=(l.charCodeAt(e)-32);if(g==(13-32)){f+="<br/>"}if((g<0)||(g>94)){continue}if(g==0){f+="</span>"}f+='<div class="alphablock">';var b=0;for(var d=0;d<4;d++){var h=font_8bit[(g*4)+d]||0;for(var c=0;c<8;c++){if(h&(1<<(8-c))){f+='<div class="block filled"></div>'}else{f+='<div class="block"></div>'}b++;if(b==4){f+="<br/>";b=0}}}f+="</div>";if(g==0){f+='<span style="white-space:nowrap;">'}}f+="</span>";if((m==undefined)||(m!=false)){f+="<br/>"}document.getElementById(a).innerHTML+=f};this.text="";this.pos=0;this.id="wrapper";this.typechar=function(){if(this.pos<this.text.length){this.write(this.id,this.text.charAt(this.pos),false);this.pos++}};this.typewrite=function(b,a){document.getElementById(b).innerHTML="";this.id=b;this.pos=0;this.text=a+String.fromCharCode(13)}};var levels=[{height:25,layers:[{data:[0,,,,,,,,,,,1,,,,,,,,,,,,,,,,,,,,,,5,,2,1,3,4,,,,,,,,,,,,,,5,,,,,,1,,,,,,,,,,,,,,,,,3,3,1,3,3,3,3,3,1,3,4,,,2,3,3,3,3,3,3,3,3,3,4,,,,,,,6,,,,,,3,3,,,,,,7,,,1,,,,3,3,3,3,3,4,,2,3,4,,,,,2,4,,,5,,5,,,2,3,,,7,,,1,,,,,2,4,,,1,,5,,,5,,,5,,,,,5,,,1,,2,4,,,1,3,3,1,,,5,,,,5,,,2,3,3,1,,2,1,,,,,,,,,6,,,,3,3,3,,,2,1,,,,,,1,,2,3,4,,2,3,3,4,,,,,,,,2,1,,3,3,3,4,,1,,,,,,,,,1,,5,,3,3,3,3,1,,,,,,,,1,,5,,2,3,3,4,,1,,1,,,,,,,,,5,,5,,2,1,,1,3,1,,,,,1,,,,,,,,,,5,,,1,,,1,,,,1,4,,2,3,1,3,4,,5,,5,,5,,,,2,1,3,3,1,,5,,,,,,,,,1,,,,,,,,,,,,,,1,,1,3,4,,2,3,4,,2,1,,,,,,,,,3,3,3,4,,1,,,,1,,,,1,,,1,4,,,,,,,,,,,,,1,,,,,,5,,1,4,,1,1,7,3,3,3,3,3,3,4,,5,,,1,,2,3,3,3,1,,,,,1,,,,,,,,,1,,1,3,3,1,,,,,,,,,,2,1,3,7,3,3,3,3,3,3,,,,,,1,3,3,3,3,3,3,3,3,3,1,,,,,,,,,,3,3,3,4,,1,,,,,,1,,,,1,,2,3,3,7,3,3,3,3,,,,,,1,,5,,,,1,,5,,1,,,1,,,,,,,,2,3,3,3,1,,1,,2,3,1,,1,,1,3,3,1,3,4,,2,4,,,,,,,,,1,,,,,,1,,,,,,,,,,,0],height:25,width:25,x:0,y:0},{height:25,objects:[{gid:12,x:1280,y:512},{gid:11,x:0,y:128},{gid:12,x:320,y:192},{gid:12,x:960,y:192},{gid:12,x:1280,y:192},{gid:12,x:128,y:640},{gid:12,x:192,y:896},{gid:12,x:192,y:1216},{gid:12,x:64,y:1344},{gid:12,x:1216,y:640},{gid:12,x:1536,y:320},{gid:12,x:1280,y:1088},{gid:12,x:1408,y:1088},{gid:12,x:1536,y:1088},{gid:12,x:1152,y:1216},{gid:12,x:1280,y:1216},{gid:12,x:1408,y:1216},{gid:12,x:1536,y:1344},{gid:12,x:1408,y:1344},{gid:12,x:1024,y:1472},{gid:12,x:960,y:1600},{gid:12,x:1536,y:1600},{gid:12,x:704,y:1600},{gid:12,x:576,y:1472}],width:25,x:0,y:0},{height:25,objects:[{gid:23,x:768,y:64},{gid:21,x:64,y:192},{gid:21,x:64,y:128},{gid:21,x:64,y:64},{gid:21,x:128,y:128},{gid:21,x:256,y:192},{gid:21,x:384,y:192},{gid:21,x:576,y:64},{gid:21,x:512,y:64},{gid:21,x:448,y:64},{gid:21,x:640,y:64},{gid:21,x:576,y:192},{gid:21,x:704,y:256},{gid:21,x:768,y:256},{gid:21,x:832,y:64},{gid:21,x:896,y:128},{gid:21,x:896,y:192},{gid:21,x:1024,y:192},{gid:21,x:1152,y:192},{gid:21,x:1216,y:128},{gid:21,x:1280,y:64},{gid:21,x:1088,y:128},{gid:21,x:1024,y:64},{gid:21,x:1344,y:128},{gid:21,x:1408,y:192},{gid:21,x:1472,y:128},{gid:21,x:1536,y:128},{gid:21,x:1536,y:64},{gid:21,x:1408,y:384},{gid:21,x:1344,y:448},{gid:21,x:1216,y:384},{gid:21,x:1216,y:320},{gid:21,x:1280,y:320},{gid:21,x:1216,y:512},{gid:21,x:1088,y:448},{gid:21,x:1024,y:384},{gid:21,x:1024,y:320},{gid:21,x:896,y:320},{gid:21,x:832,y:448},{gid:21,x:768,y:448},{gid:21,x:640,y:320},{gid:21,x:640,y:384},{gid:21,x:512,y:320},{gid:21,x:384,y:320},{gid:21,x:192,y:320},{gid:21,x:128,y:320},{gid:21,x:64,y:320},{gid:21,x:0,y:320},{gid:22,x:256,y:448},{gid:23,x:256,y:320},{gid:21,x:64,y:448},{gid:21,x:64,y:512},{gid:21,x:0,y:512},{gid:21,x:0,y:448},{gid:21,x:256,y:512},{gid:21,x:320,y:64},{gid:21,x:0,y:640},{gid:21,x:192,y:640},{gid:21,x:256,y:768},{gid:21,x:128,y:768},{gid:21,x:0,y:768},{gid:21,x:64,y:896},{gid:21,x:256,y:896},{gid:21,x:0,y:960},{gid:21,x:256,y:1088},{gid:21,x:128,y:1152},{gid:21,x:0,y:1152},{gid:21,x:0,y:1344},{gid:21,x:192,y:1344},{gid:21,x:0,y:1536},{gid:21,x:256,y:1472},{gid:21,x:256,y:1408},{gid:21,x:128,y:1472},{gid:21,x:64,y:1600},{gid:21,x:0,y:1600},{gid:21,x:128,y:1600},{gid:21,x:192,y:1600},{gid:21,x:256,y:1600},{gid:21,x:320,y:1600},{gid:21,x:384,y:1600},{gid:21,x:384,y:1536},{gid:21,x:384,y:1472},{gid:21,x:384,y:1408},{gid:21,x:448,y:1408},{gid:22,x:960,y:960},{gid:21,x:960,y:448},{gid:21,x:960,y:512},{gid:21,x:1024,y:512},{gid:21,x:1024,y:576},{gid:21,x:960,y:576},{gid:21,x:960,y:640},{gid:21,x:960,y:704},{gid:21,x:960,y:768},{gid:21,x:960,y:832},{gid:21,x:1024,y:832},{gid:21,x:1088,y:704},{gid:21,x:1536,y:448},{gid:21,x:640,y:640},{gid:21,x:512,y:768},{gid:21,x:832,y:768},{gid:21,x:704,y:896},{gid:21,x:448,y:896},{gid:21,x:640,y:1024},{gid:21,x:704,y:1088},{gid:21,x:576,y:1152},{gid:21,x:960,y:1152},{gid:21,x:896,y:1024},{gid:21,x:384,y:1280},{gid:21,x:448,y:1280},{gid:21,x:512,y:1280},{gid:21,x:576,y:1280},{gid:21,x:640,y:1280},{gid:21,x:704,y:1280},{gid:21,x:768,y:1280},{gid:21,x:832,y:1280},{gid:21,x:896,y:1280},{gid:21,x:960,y:1216},{gid:21,x:896,y:1088},{gid:21,x:896,y:960},{gid:21,x:448,y:1152},{gid:21,x:448,y:1088},{gid:21,x:448,y:704},{gid:21,x:448,y:576},{gid:21,x:448,y:448},{gid:21,x:576,y:512},{gid:21,x:640,y:512},{gid:21,x:832,y:576},{gid:21,x:1088,y:576},{gid:21,x:1088,y:640},{gid:21,x:1088,y:768},{gid:21,x:1088,y:832},{gid:21,x:1152,y:832},{gid:21,x:1280,y:832},{gid:21,x:1408,y:832},{gid:21,x:1536,y:768},{gid:23,x:1088,y:1216},{gid:23,x:1536,y:640},{gid:23,x:1088,y:1472},{gid:21,x:1024,y:1408},{gid:21,x:1024,y:1344},{gid:21,x:1088,y:1344},{gid:21,x:1152,y:1344},{gid:21,x:1216,y:1344},{gid:21,x:1280,y:1472},{gid:21,x:1216,y:1472},{gid:21,x:1408,y:1472},{gid:21,x:1472,y:1472},{gid:21,x:1344,y:1536},{gid:21,x:1536,y:1536},{gid:21,x:832,y:1408},{gid:21,x:512,y:1536},{gid:21,x:768,y:1536},{gid:21,x:896,y:1536},{gid:21,x:1088,y:1600},{gid:21,x:1216,y:1600},{gid:21,x:576,y:1600},{gid:21,x:576,y:1408},{gid:22,x:640,y:1472},{gid:6,x:64,y:1472},{gid:21,x:1024,y:640}],width:25,x:0,y:0}],tileheight:64,tilesets:[{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64}],tilewidth:64,width:25},{height:25,layers:[{data:[0,,,,,,,,,,,,,1,1,,,,,,1,1,1,1,1,,,,,,,,,,,2,4,,1,1,,,,2,3,1,1,1,1,1,,,,,,,2,3,3,3,1,,,1,1,,,,,,1,1,1,1,1,,,,2,4,,,,,,,,2,1,1,,,,,,1,1,1,1,1,,,,,,,,,,,,,,1,1,3,4,,,,1,1,1,1,1,4,,,,,,2,3,3,4,,2,3,1,1,,,,,,1,1,1,1,1,,,2,3,4,,,1,1,,,1,1,1,1,,,,2,3,1,1,1,1,1,,,,,,,,1,,,2,1,1,,,,,,,,,,,,,,,,,2,3,3,1,4,,,1,1,,,,,,,,,,,2,1,3,3,3,3,1,1,1,,,,2,1,1,3,3,3,4,,,,,,2,1,1,1,1,1,1,1,,,,2,3,1,1,,,,,1,,,2,3,3,1,1,1,1,1,,,,,5,,,1,1,1,3,4,,,1,,2,,,6,,,,1,,,,5,,,,,1,1,1,,,,,1,,,,,2,1,1,,1,,,,,,,2,3,1,1,1,,,,2,1,,,,,,1,,,1,,2,3,4,,,,1,1,,,,,,,1,3,4,,,,1,,1,1,,,,1,,,,1,1,,,,,,,1,,,,,,1,,,1,4,,,1,3,3,3,1,,,2,3,3,3,3,1,,,2,4,,1,,,1,1,4,,,,,1,1,,,,,,,,1,,,,,,1,,,1,,,,2,3,3,1,,,2,3,3,3,3,3,1,4,,,,,1,,1,1,,,,,,,1,,,,,1,,,,,,,,,,1,,,1,3,3,3,3,3,,1,,,,,1,,,,,,2,3,3,3,1,1,,1,,,,,1,,,,2,4,,1,,,,,2,1,,,,1,,,1,,1,1,1,1,3,4,,,,,7,,,,2,1,1,,1,,1,,1,1,,,,,,,,,,,2,3,3,3,3,1,,1,,1,,,,,1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,1,,,,1,1,1,,0],height:25,width:25,x:0,y:0},{height:25,objects:[{gid:12,x:1344,y:576},{gid:12,x:1344,y:1216},{gid:12,x:768,y:960},{gid:12,x:640,y:1088},{gid:12,x:576,y:1472},{gid:12,x:192,y:1216},{gid:12,x:384,y:960},{gid:12,x:128,y:832},{gid:12,x:704,y:256},{gid:12,x:448,y:64},{gid:12,x:192,y:320},{gid:11,x:0,y:512}],width:25,x:0,y:0},{height:25,objects:[{gid:21,x:1472,y:512},{gid:21,x:1408,y:576},{gid:21,x:1280,y:640},{gid:21,x:1216,y:640},{gid:21,x:1280,y:768},{gid:22,x:1216,y:64},{gid:21,x:1152,y:64},{gid:21,x:960,y:256},{gid:21,x:1024,y:256},{gid:21,x:1152,y:384},{gid:21,x:1216,y:384},{gid:21,x:832,y:576},{gid:21,x:896,y:576},{gid:21,x:960,y:576},{gid:21,x:1088,y:896},{gid:21,x:1216,y:1024},{gid:21,x:1088,y:1152},{gid:21,x:1280,y:1280},{gid:21,x:1216,y:1280},{gid:21,x:1152,y:1280},{gid:21,x:1088,y:1344},{gid:21,x:1024,y:1408},{gid:21,x:960,y:1472},{gid:21,x:896,y:1472},{gid:21,x:832,y:1472},{gid:21,x:640,y:1536},{gid:21,x:576,y:1536},{gid:21,x:512,y:1536},{gid:21,x:384,y:1408},{gid:21,x:448,y:1408},{gid:21,x:576,y:1344},{gid:21,x:640,y:1344},{gid:21,x:640,y:1152},{gid:21,x:704,y:1152},{gid:21,x:768,y:1152},{gid:21,x:832,y:1152},{gid:21,x:896,y:1152},{gid:21,x:960,y:1152},{gid:21,x:1344,y:1280},{gid:21,x:960,y:832},{gid:21,x:832,y:704},{gid:21,x:768,y:192},{gid:21,x:768,y:320},{gid:21,x:704,y:320},{gid:21,x:640,y:64},{gid:21,x:704,y:64},{gid:21,x:192,y:192},{gid:21,x:256,y:192},{gid:21,x:0,y:320},{gid:21,x:384,y:512},{gid:21,x:320,y:512},{gid:21,x:256,y:512},{gid:21,x:384,y:320},{gid:21,x:448,y:320},{gid:21,x:512,y:320},{gid:21,x:576,y:320},{gid:21,x:640,y:448},{gid:21,x:640,y:576},{gid:21,x:576,y:640},{gid:21,x:448,y:832},{gid:21,x:512,y:832},{gid:21,x:384,y:704},{gid:21,x:256,y:768},{gid:21,x:320,y:1024},{gid:21,x:384,y:1024},{gid:21,x:448,y:1024},{gid:21,x:64,y:1024},{gid:21,x:128,y:1088},{gid:21,x:256,y:1152},{gid:21,x:320,y:1152},{gid:21,x:384,y:1152},{gid:21,x:64,y:1280},{gid:21,x:128,y:1280},{gid:21,x:384,y:1280},{gid:23,x:768,y:704},{gid:21,x:1536,y:512},{gid:21,x:1088,y:1536},{gid:21,x:1088,y:1600},{gid:21,x:1152,y:1600},{gid:21,x:1216,y:1600},{gid:21,x:1216,y:1536},{gid:21,x:1216,y:1472},{gid:21,x:1216,y:1408},{gid:21,x:1280,y:1408},{gid:21,x:1344,y:1408},{gid:21,x:1344,y:1472},{gid:21,x:1344,y:1536},{gid:21,x:1408,y:1536},{gid:21,x:448,y:1536},{gid:21,x:384,y:1536},{gid:21,x:320,y:1536},{gid:21,x:256,y:1536},{gid:21,x:192,y:1536},{gid:21,x:128,y:1536},{gid:21,x:64,y:1536},{gid:21,x:64,y:1472},{gid:21,x:64,y:1408},{gid:21,x:128,y:1408},{gid:21,x:192,y:1408},{gid:21,x:256,y:1408},{gid:21,x:1408,y:768},{gid:21,x:1472,y:768},{gid:21,x:1536,y:768},{gid:21,x:1536,y:832},{gid:21,x:1536,y:896},{gid:21,x:1472,y:896},{gid:21,x:1472,y:960},{gid:21,x:1472,y:1024},{gid:21,x:1536,y:1024},{gid:21,x:1536,y:1088},{gid:21,x:1536,y:1152},{gid:21,x:1472,y:1152},{gid:21,x:1472,y:1216},{gid:21,x:1472,y:1280},{gid:21,x:1536,y:1280},{gid:21,x:1536,y:1344},{gid:21,x:1536,y:1408},{gid:21,x:1472,y:1408},{gid:21,x:1472,y:1472},{gid:21,x:1472,y:1536},{gid:21,x:1536,y:1536},{gid:21,x:1536,y:1600},{gid:21,x:1472,y:1600},{gid:21,x:1472,y:1088}],width:25,x:0,y:0}],tileheight:64,tilesets:[{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64}],tilewidth:64,width:25},{height:25,layers:[{data:[0,,,,,,,,,1,1,,,,,,,,,,,,,,1,,,,,,,,,,1,1,,,,,,,,,,,,,,1,,,,,,,,2,3,1,1,3,3,4,,,,,,,,,,,1,3,3,3,4,,,,1,1,1,1,1,1,,,,,,,,,,2,3,1,1,1,1,1,,,,,,1,1,,,,,2,3,4,,,,,1,1,1,,,,,,,,,,1,1,,,,,1,1,1,4,,,,,,1,3,4,,,,,,,,1,1,3,3,4,,,,1,1,4,,,,,1,1,1,3,4,,,2,3,3,1,1,1,1,,,,,,1,1,3,3,3,3,1,,,,,,,1,1,1,1,1,,,,2,4,,,1,1,1,1,1,1,1,,,,,,,,,,,6,,,,1,1,,,,,,,,,,3,3,4,,,,,,,2,3,3,4,,,,,,,,,,,,,1,1,1,,,,,,,1,1,1,1,,,,,,2,3,,,,2,3,1,1,1,,,,,,,1,1,1,1,3,4,,,,1,1,,,,1,1,1,1,1,3,3,3,3,3,3,1,1,1,1,1,1,,,,1,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,,,,1,1,1,1,1,1,1,,,,,,,,,,,7,,,,,,2,3,1,1,1,1,1,1,1,,,,,,,,,,,2,4,,,,,1,1,1,1,1,1,1,1,1,3,4,,,2,4,,,,2,1,1,,,,,,,,,,,,,,1,1,3,3,1,1,,,,1,1,1,3,4,,,,,,,,,,,,1,1,1,1,1,1,3,3,3,1,1,1,1,1,,,2,4,,,,,,,,1,1,1,1,1,1,1,1,1,1,1,1,1,1,,,1,1,,,,2,4,,,,,,,,,,,1,,,,,,,,,,,,,1,1,,,4,,2,3,3,3,4,3,3,,,,,,,,,,,,,,,,,,,,,,,6,,,,2,3,4,,,,,,2,4,,,,2,4,3,3,3,3,3,3,3,3,4,,1,1,1,3,3,3,3,3,1,1,,,,1,1],height:25,width:25,x:0,y:0},{height:0,objects:[{gid:11,x:14,y:126},{gid:12,x:470,y:1106},{gid:12,x:484,y:734},{gid:12,x:232,y:732},{gid:12,x:1314,y:806},{gid:12,x:1306,y:362},{gid:12,x:966,y:1476},{gid:12,x:256,y:1536},{gid:12,x:128,y:1536},{gid:12,x:64,y:1536},{gid:12,x:192,y:1536},{gid:12,x:320,y:1536},{gid:12,x:0,y:1536}],x:0,y:0},{height:0,objects:[{gid:21,x:960,y:256},{gid:21,x:1024,y:256},{gid:21,x:1088,y:256},{gid:21,x:1152,y:320},{gid:21,x:1216,y:384},{gid:21,x:1408,y:192},{gid:21,x:1472,y:192},{gid:21,x:960,y:512},{gid:21,x:896,y:512},{gid:21,x:768,y:384},{gid:21,x:704,y:384},{gid:21,x:768,y:128},{gid:21,x:832,y:128},{gid:21,x:512,y:448},{gid:21,x:448,y:448},{gid:21,x:384,y:448},{gid:21,x:64,y:384},{gid:21,x:0,y:640},{gid:21,x:64,y:640},{gid:21,x:128,y:640},{gid:21,x:256,y:832},{gid:21,x:320,y:832},{gid:21,x:384,y:832},{gid:21,x:448,y:832},{gid:21,x:832,y:768},{gid:21,x:896,y:768},{gid:21,x:1088,y:960},{gid:21,x:1024,y:960},{gid:21,x:1408,y:832},{gid:21,x:1344,y:832},{gid:21,x:1472,y:704},{gid:21,x:1536,y:704},{gid:21,x:1216,y:704},{gid:21,x:1152,y:704},{gid:21,x:1280,y:448},{gid:21,x:1408,y:448},{gid:21,x:1472,y:448},{gid:21,x:448,y:128},{gid:21,x:512,y:128},{gid:21,x:512,y:832},{gid:21,x:128,y:1152},{gid:21,x:192,y:1152},{gid:21,x:384,y:1216},{gid:21,x:448,y:1216},{gid:21,x:512,y:1216},{gid:21,x:1344,y:1280},{gid:21,x:1408,y:1280},{gid:21,x:1024,y:1216},{gid:21,x:1088,y:1216},{gid:21,x:832,y:1536},{gid:21,x:896,y:1536},{gid:21,x:1024,y:1536},{gid:21,x:1088,y:1536},{gid:21,x:1472,y:1472},{gid:21,x:1536,y:1472},{gid:21,x:1280,y:832},{gid:21,x:1344,y:448},{gid:21,x:192,y:832},{gid:21,x:960,y:1536},{gid:22,x:0,y:384},{gid:23,x:704,y:128},{gid:21,x:64,y:1088},{gid:21,x:256,y:1088},{gid:21,x:320,y:1088},{gid:22,x:448,y:1536},{gid:21,x:448,y:1408},{gid:21,x:0,y:1408}],x:0,y:0}],tileheight:64,tilesets:[{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64}],tilewidth:64,width:25},{height:10,layers:[{data:[0,,,,,,6,,,,3,3,3,3,3,3,4,,,,,,,,,,,,2,3,,,5,,,,,,,,4,,1,,5,,2,3,4,,,,1,,1,,1,,,,,2,1,,1,,1,,2,3,,,1,,1,,1,,,,4,,1,,1,,1,3,4,,,,7,,1,,1,,,0],height:10,width:10,x:0,y:0},{height:10,objects:[{gid:11,x:448,y:640},{gid:12,x:512,y:256},{gid:12,x:64,y:640},{gid:12,x:192,y:640}],width:10,x:0,y:0},{height:10,objects:[{gid:21,x:64,y:64},{gid:21,x:128,y:64},{gid:21,x:192,y:64},{gid:21,x:256,y:64},{gid:21,x:320,y:64},{gid:22,x:128,y:192},{gid:21,x:448,y:448},{gid:21,x:576,y:320},{gid:21,x:576,y:576},{gid:21,x:448,y:192},{gid:21,x:512,y:128},{gid:21,x:576,y:128},{gid:21,x:576,y:64},{gid:21,x:384,y:256},{gid:21,x:192,y:320},{gid:21,x:64,y:576},{gid:21,x:0,y:448},{gid:21,x:64,y:320},{gid:21,x:64,y:192},{gid:21,x:192,y:192},{gid:21,x:320,y:448},{gid:21,x:320,y:512},{gid:21,x:320,y:576},{gid:23,x:0,y:64},{gid:21,x:192,y:448},{gid:21,x:192,y:384},{gid:21,x:192,y:512},{gid:21,x:192,y:576},{gid:21,x:64,y:512},{gid:21,x:64,y:384},{gid:21,x:0,y:256},{gid:21,x:0,y:192},{gid:21,x:64,y:256},{gid:21,x:0,y:384},{gid:21,x:0,y:512},{gid:21,x:0,y:640},{gid:21,x:320,y:320},{gid:21,x:512,y:384},{gid:21,x:512,y:512},{gid:21,x:512,y:640},{gid:21,x:320,y:192},{gid:21,x:256,y:256},{gid:21,x:448,y:64}],width:10,x:0,y:0}],tileheight:64,tilesets:[{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64}],tilewidth:64,width:10},{height:15,layers:[{data:[0,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2,3,3,,,,,,,,,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,6,,,,,,,,,,,,,,,,,,,,,1,,,,,,,,,,,,,,5,,,,,,,,,,,,,,,,1,1,1,4,,,,2,3,3,3,3,3,3,3,6,1,,,,,5,,5,,,,,,,,,,,,,,,,,,,,,,,,,2,3,3,3,3,3,3,3,3,4,,,,2,,,,,,,,,1,,,,,,,,,,,5,,,,,,,,,,,,,,,,,,,1,1,1,1,,,,1,,,,,,,,,1,,,,,1,,,,5,,,,,,,,5,,5,,,,,,,,,,,,5,,,,,,,7,,,,,,,1,1,1,1,1,1,1,,,1,,,,,,,,,,,,,,,,,,,2,3,3,3,4,,,2,3,4,,1,,,,,5,,1,,2,3,3,3,3,3,3,1,,,,,1,,,,,,5,,,,5,,,,,,,,,,,,,,,5,,,,,,,,,,,,5,,2,1,,,,,,1,,,1,,,,2,3,3,3,4,,,,,,,,,,5,1,1,1,1,1,3,3,1,1,,,1,,3,3,,,,1,,,,,,,,,,,,,,1,,,,,,,,5,,,,,,,5,,5,,,,,,,5,,,,,,,,,,,5,,1,,,1,,2,1,4,,1,,,1,,,,,,,,,,,,,,,,,5,1,,,,,,1,1,1,,,,1,3,1,1,5,,,1,3,3,3,3,3,3,4,7,2,3,3,4,,,,,,,,,,,,,,,,,,,,,,,,,5,,,,,,,,,,5,,1,,1,,,1,,,1,,,1,,,,,,,,,,,,,,,,,,,5,1,1,,1,1,1,1,1,1,,,,,,,,,,,,1,,,,,,,,,1,,1,1,4,,,,,5,,5,,,,,,,,,,,,,,,,5,,,,,,,,,5,,1,,1,,1,,,1,4,,1,,2,1,,2,3,3,3,3,3,3,3,4,,,,,,,,5,1,,,,,,,,,,,,,,,,,,,5,,1,,3,3,3,3,3,3,3,1,,1,1,1,4,,,2,1,,,,,,,,,,,5,,,,,,5,,,,,,,,5,,1,,1,,1,,1,,,1,,,1,,,1,,1,,,6,,6,,6,,6,,4,,,,5,,,2,3,3,3,3,3,3,3,3,3,4,,5,,5,,5,,1,,1,,,,,,,,,,,1,1,1,1,,2,1,,,,,5,,,,,,,,,,,,5,,,,,,,5,,1,,1,,1,,1,,1,,,,,2,1,4,,1,,1,3,3,3,3,3,3,3,3,4,,1,4,,,,,,,,,,,,,,,,,,,,,,,,1,,1,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,,,,,,,,,,,,,,,5,,5,,,,,,5,,1,,1,1,1,,1,,1,,1,1,1,1,,,1,,,1,,1,,,,,,,,1,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,5,,5,,,,,,,,,,,,,,,,,5,,1,,1,,1,,,,1,,1,,,,,1,4,,1,,2,1,,1,4,,,,2,4,,1,,,1,,5,,5,,,,,,,5,,,,,5,,,,,,,,,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,,,,,,,,,,,,,,,,,,,1,,1,,1,,1,,1,1,1,,1,1,1,1,,1,,,1,,,1,,1,1,4,,,,,,,,5,1,,,,1,,,,,,,,,,,,,,,,,,,,2,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1,,,,1,,1,,,,,,,,,,,1,,2,1,,,1,,1,1,1,4,,2,4,,,,,1,4,,,1,,,,5,,,,,,5,,,,,5,,,,2,1,1,,,,5,,,,5,,,,5,,,,5,,,,5,,,,,,,,,,2,4,,,,,,,,,,1,,,,1,1,1,1,1,1,1,1,1,1,,1,,1,1,1,1,1,,1,1,1,1,1,1,1,1,1,1,1,1,,,,1,,,,,,,,,,,,,,,,,,,,,,,5,,,,5,,,,5,,,,5,,,,5,,,,,,,,,,,,,,,,,,,,,1,,1,,1,,,,,,,,,,,,,1,,,,,,,0],height:15,width:100,x:0,y:0},{objects:[{gid:11,x:0,y:64},{gid:12,x:448,y:64},{gid:12,x:1408,y:64},{gid:12,x:1136,y:125},{gid:12,x:1632,y:193},{gid:12,x:2168,y:468},{gid:12,x:1821,y:925},{gid:12,x:3072,y:256},{gid:12,x:2368,y:576},{gid:12,x:448,y:832},{gid:12,x:3712,y:960},{gid:12,x:4544,y:960},{gid:12,x:5824,y:960},{gid:12,x:6144,y:832}],x:0,y:0},{objects:[{gid:21,x:576,y:448},{gid:21,x:1920,y:512},{gid:21,x:2304,y:192},{gid:21,x:2560,y:448},{gid:21,x:2624,y:448},{gid:21,x:2688,y:448},{gid:21,x:2752,y:448},{gid:21,x:2816,y:448},{gid:21,x:2880,y:448},{gid:21,x:2944,y:448},{gid:21,x:2304,y:448},{gid:21,x:960,y:512},{gid:21,x:3392,y:576},{gid:22,x:1152,y:512},{gid:23,x:3520,y:704},{gid:21,x:2496,y:448},{gid:21,x:2496,y:512},{gid:21,x:2496,y:576},{gid:21,x:2560,y:576},{gid:21,x:2624,y:576},{gid:21,x:2688,y:576},{gid:21,x:2752,y:576},{gid:21,x:2816,y:576},{gid:21,x:2880,y:576},{gid:21,x:2944,y:576},{gid:21,x:3008,y:576},{gid:21,x:3072,y:576},{gid:21,x:3072,y:512},{gid:21,x:3072,y:448},{gid:21,x:2048,y:320},{gid:21,x:2048,y:512},{gid:21,x:1472,y:192},{gid:21,x:1792,y:192},{gid:21,x:1792,y:128},{gid:21,x:1792,y:512},{gid:21,x:1216,y:512},{gid:21,x:1280,y:512},{gid:21,x:1344,y:512},{gid:21,x:1408,y:512},{gid:21,x:1472,y:512},{gid:21,x:1536,y:512},{gid:21,x:1600,y:512},{gid:21,x:1112,y:824},{gid:21,x:1138,y:784},{gid:21,x:1173,y:762},{gid:21,x:1219,y:731},{gid:21,x:1268,y:757},{gid:21,x:1303,y:779},{gid:21,x:1323,y:816},{gid:21,x:1351,y:848},{gid:21,x:1365,y:877},{gid:21,x:1385,y:908},{gid:21,x:1415,y:944},{gid:21,x:1792,y:64},{gid:22,x:384,y:448},{gid:22,x:704,y:512},{gid:22,x:384,y:704},{gid:22,x:768,y:960},{gid:21,x:64,y:576},{gid:21,x:3392,y:128},{gid:21,x:3392,y:64},{gid:21,x:3392,y:192},{gid:21,x:3392,y:256},{gid:21,x:3392,y:320},{gid:21,x:3392,y:384},{gid:21,x:3392,y:448},{gid:21,x:3392,y:512},{gid:21,x:4800,y:640},{gid:21,x:4800,y:576},{gid:21,x:4800,y:512},{gid:21,x:4800,y:448},{gid:21,x:4928,y:576},{gid:21,x:5056,y:512},{gid:21,x:5184,y:448},{gid:21,x:5312,y:384},{gid:21,x:5440,y:320},{gid:21,x:5568,y:256},{gid:21,x:5696,y:192},{gid:22,x:3328,y:64},{gid:21,x:2039,y:884},{gid:21,x:1893,y:738},{gid:21,x:2059,y:915},{gid:21,x:1942,y:764},{gid:21,x:2089,y:951},{gid:21,x:1786,y:831},{gid:21,x:1977,y:786},{gid:21,x:1812,y:791},{gid:21,x:1997,y:823},{gid:21,x:1847,y:769},{gid:21,x:2025,y:855},{gid:21,x:4099,y:560},{gid:21,x:3953,y:414},{gid:21,x:4119,y:591},{gid:21,x:4002,y:440},{gid:21,x:4149,y:627},{gid:21,x:3846,y:507},{gid:21,x:4037,y:462},{gid:21,x:3872,y:467},{gid:21,x:4057,y:499},{gid:21,x:3907,y:445},{gid:21,x:4085,y:531},{gid:23,x:4864,y:448},{gid:21,x:5376,y:192},{gid:21,x:1686,y:852},{gid:21,x:1750,y:948},{gid:21,x:1508,y:766},{gid:21,x:1638,y:783},{gid:21,x:1700,y:881},{gid:21,x:1447,y:828},{gid:21,x:1554,y:735},{gid:21,x:1658,y:820},{gid:21,x:1720,y:912},{gid:21,x:1473,y:788},{gid:21,x:1603,y:761},{gid:21,x:2560,y:832},{gid:21,x:2432,y:896},{gid:21,x:2688,y:896},{gid:21,x:2816,y:832},{gid:21,x:2944,y:896},{gid:21,x:3072,y:832},{gid:21,x:3200,y:896},{gid:21,x:3328,y:832},{gid:21,x:3456,y:896},{gid:21,x:3584,y:832},{gid:21,x:3712,y:640},{gid:21,x:3712,y:384},{gid:21,x:3584,y:128},{gid:21,x:3712,y:192},{gid:21,x:3840,y:256},{gid:21,x:3968,y:192},{gid:21,x:4096,y:128},{gid:21,x:4224,y:128},{gid:21,x:4288,y:256},{gid:21,x:4416,y:256},{gid:21,x:4288,y:448},{gid:21,x:4416,y:576},{gid:21,x:4736,y:512},{gid:21,x:4736,y:576},{gid:21,x:4672,y:576},{gid:21,x:4928,y:448},{gid:21,x:4864,y:512},{gid:21,x:4992,y:384},{gid:21,x:5056,y:384},{gid:21,x:5120,y:320},{gid:21,x:5184,y:320},{gid:21,x:5248,y:256},{gid:21,x:5312,y:256},{gid:21,x:1280,y:448},{gid:21,x:1280,y:384},{gid:21,x:1344,y:384},{gid:21,x:1408,y:384},{gid:21,x:1472,y:384},{gid:21,x:1536,y:384},{gid:21,x:768,y:128},{gid:21,x:960,y:64},{gid:21,x:4023,y:956},{gid:21,x:4096,y:960},{gid:21,x:4160,y:896},{gid:21,x:4160,y:832},{gid:21,x:4096,y:768},{gid:21,x:4032,y:768},{gid:21,x:3968,y:832},{gid:21,x:3968,y:896},{gid:21,x:4224,y:832},{gid:21,x:4288,y:832},{gid:21,x:4352,y:832},{gid:21,x:4352,y:896},{gid:21,x:4416,y:768},{gid:21,x:4480,y:768},{gid:21,x:4544,y:832},{gid:21,x:4544,y:896},{gid:21,x:4480,y:960},{gid:21,x:4416,y:960},{gid:21,x:3904,y:768},{gid:21,x:4608,y:768},{gid:21,x:4800,y:896},{gid:21,x:4928,y:832},{gid:21,x:5056,y:896},{gid:21,x:5248,y:768},{gid:21,x:5248,y:576},{gid:21,x:5760,y:704},{gid:21,x:5632,y:320},{gid:21,x:5632,y:384},{gid:21,x:5632,y:448},{gid:21,x:5632,y:512},{gid:21,x:5632,y:576},{gid:21,x:5632,y:640},{gid:21,x:5632,y:704},{gid:21,x:5696,y:704},{gid:21,x:5504,y:448},{gid:21,x:5504,y:512},{gid:21,x:5504,y:576},{gid:21,x:5504,y:640},{gid:21,x:5504,y:704},{gid:21,x:5504,y:768},{gid:21,x:5376,y:512},{gid:21,x:5376,y:576},{gid:21,x:5376,y:640},{gid:21,x:5376,y:704},{gid:21,x:5312,y:704},{gid:21,x:5248,y:704},{gid:21,x:5248,y:832},{gid:21,x:5312,y:832},{gid:21,x:5376,y:832},{gid:21,x:5440,y:832},{gid:21,x:5504,y:832},{gid:21,x:5568,y:832},{gid:21,x:5632,y:832},{gid:21,x:5696,y:832},{gid:21,x:5760,y:832},{gid:21,x:5120,y:576},{gid:21,x:5120,y:640},{gid:21,x:5120,y:704},{gid:21,x:5120,y:768},{gid:21,x:5120,y:832},{gid:21,x:4992,y:640},{gid:21,x:4992,y:704},{gid:21,x:4992,y:768},{gid:21,x:4864,y:704},{gid:21,x:4864,y:768},{gid:21,x:6208,y:832},{gid:21,x:6336,y:256},{gid:21,x:6336,y:320},{gid:21,x:6336,y:384},{gid:21,x:6336,y:448},{gid:21,x:6336,y:512},{gid:21,x:6336,y:576},{gid:21,x:6336,y:640},{gid:21,x:6336,y:704},{gid:21,x:6336,y:768},{gid:21,x:6336,y:832},{gid:21,x:6336,y:896},{gid:21,x:6336,y:960},{gid:21,x:5760,y:576},{gid:21,x:5824,y:512},{gid:21,x:5760,y:448},{gid:21,x:5824,y:768},{gid:21,x:5824,y:704},{gid:21,x:5824,y:832},{gid:21,x:5824,y:896},{gid:21,x:5120,y:896},{gid:21,x:4992,y:896},{gid:21,x:4992,y:832},{gid:21,x:4864,y:832},{gid:21,x:4864,y:896},{gid:21,x:4736,y:896},{gid:21,x:4736,y:832},{gid:21,x:4672,y:896},{gid:21,x:4864,y:960},{gid:21,x:4992,y:960}],x:0,y:0}],tileheight:64,tilesets:[{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64},{tileheight:64,tilewidth:64}],tilewidth:64,width:100}];function st(a){this.e=(a||null);this.keystate=0;this.x=0;this.y=0;this.px=0;this.py=0;this.sx=0;this.sy=0;this.w=0;this.h=0;this.vs=0;this.hs=0;this.j=false;this.f=false;this.d=false;this.htime=0;this.dir=0;this.hsp=5;this.vsp=15;this.speed=5;this.jumpspeed=15;this.lf=100}var gs={step:(1/60),acc:0,lasttime:0,gamepads:{},gamepadbuttons:[],gamepadassignbutton:-1,gamepadlastbutton:-1,gravity:0.5,terminalvelocity:25,friction:1,player:new st(),enemies:[],level:0,tiles:[],tilerows:0,tilecolumns:0,tilewidth:64,tileheight:64,things:[],score:0,scale:1,dialler:new dtmf_dial(),music:new gen_music(),randoms:new randomizer(),writer:new textwriter(),timeline:new timelineobj(),state:0};function getgamepadbyid(a){if((navigator.getGamepads||navigator.webkitGetGamepads||navigator.webkitGamepads||undefined)==undefined){return undefined}return(navigator.getGamepads&&navigator.getGamepads()[a])||(navigator.webkitGetGamepads&&navigator.webkitGetGamepads()[a])}function gamepadHandler(b,c){var a=b.gamepad;if(c){gs.gamepads[a.index]=a.id;if(a.mapping==="standard"){gs.gamepadbuttons[0]=14;gs.gamepadbuttons[1]=15;gs.gamepadbuttons[2]=12;gs.gamepadbuttons[3]=13;gs.gamepadbuttons[4]=0}}else{delete gs.gamepads[a.index]}}function gamepadscan(){if((navigator.getGamepads||navigator.webkitGetGamepads||navigator.webkitGamepads||undefined)==undefined){return}var c=(navigator.getGamepads&&navigator.getGamepads())||(navigator.webkitGetGamepads&&navigator.webkitGetGamepads());for(var a=0;a<c.length;a++){if(c[a]!=undefined){var b={gamepad:getgamepadbyid(a)};gamepadHandler(b,true)}}}function pollGamepads(){var c=0;var a;for(a in gs.gamepads){var b=getgamepadbyid(a);if(b==undefined){continue}for(c=0;c<b.buttons.length;c++){var e=b.buttons[c];var d=e==1;if(typeof(e)=="object"){d=e.pressed;e=e.value}if(c==gs.gamepadbuttons[0]){if(d){gs.player.keystate|=1}else{gs.player.keystate&=~1}}if(c==gs.gamepadbuttons[1]){if(d){gs.player.keystate|=4}else{gs.player.keystate&=~4}}if(c==gs.gamepadbuttons[2]){if(d){gs.player.keystate|=2}else{gs.player.keystate&=~2}}if(c==gs.gamepadbuttons[3]){if(d){gs.player.keystate|=8}else{gs.player.keystate&=~8}}if(c==gs.gamepadbuttons[4]){if(d){gs.player.keystate|=16}else{gs.player.keystate&=~16}}}}}function levelcomplete(){if((gs.enemies.length==0)&&(gs.things.length==0)){return true}return false}function redraw(){gs.player.e.style.left=gs.player.x+"px";gs.player.e.style.top=gs.player.y+"px";for(var a=0;a<gs.enemies.length;a++){gs.enemies[a].e.style.left=gs.enemies[a].x+"px";gs.enemies[a].e.style.top=gs.enemies[a].y+"px"}if((gs.player.x!=gs.player.px)||(gs.player.y!=gs.player.py)){try{window.scrollTo({left:(gs.player.x*gs.scale)-(window.innerWidth/2),top:(gs.player.y*gs.scale)-(window.innerHeight/2),behaviour:"smooth"})}catch(b){window.scrollTo((gs.player.x*gs.scale)-(window.innerWidth/2),(gs.player.y*gs.scale)-(window.innerHeight/2))}}gs.player.px=gs.player.x;gs.player.py=gs.player.y}function overlap(d,c){if(d.offsetLeft<c.offsetLeft){if((d.offsetLeft+d.clientWidth)<c.offsetLeft){return false}}if(d.offsetLeft>c.offsetLeft){if((c.offsetLeft+c.clientWidth)<d.offsetLeft){return false}}if(d.offsetTop<c.offsetTop){if((d.offsetTop+d.clientHeight)<c.offsetTop){return false}}if(d.offsetTop>c.offsetTop){if((c.offsetTop+c.clientHeight)<d.offsetTop){return false}}return true}function collide(c,a,e){var d={offsetLeft:a+(c.w/4),offsetTop:e+(c.h/2),clientWidth:(c.w/2),clientHeight:(c.h/2)};for(var b=0;b<gs.tiles.length;b++){if(overlap(gs.tiles[b],d)){return true}}return false}function collisioncheck(a){if(collide(a,a.x+a.hs,a.y)){while(!collide(a,a.x+(a.hs>0?1:-1),a.y)){a.x+=(a.hs>0?1:-1)}a.hs=0}a.x+=a.hs;if(collide(a,a.x,a.y+a.vs)){while(!collide(a,a.x,a.y+(a.vs>0?1:-1))){a.y+=(a.vs>0?1:-1)}a.vs=0}a.y+=a.vs}function offmapcheck(a){if((a.x<0)||(a.y>levels[gs.level].height*levels[gs.level].tileheight)){a.x=a.sx;a.y=a.sy}}function groundcheck(a){if(collide(a,a.x,a.y+1)){a.vs=0;a.j=false;a.f=false;if(((a.keystate&16)!=0)&&(!a.d)){a.j=true;a.vs=-a.jumpspeed}}else{if(a.vs<gs.terminalvelocity){a.vs+=gs.gravity}if(a.vs>0){a.f=true}}}function jumpcheck(a){if(a.j){if(a.vs>=0){a.j=false;a.f=true}}}function standcheck(a){if(((a.keystate&8)!=0)||(a.htime>0)){a.d=true}else{a.d=false}if((((a.keystate&1)==0)&&((a.keystate&4)==0))||(((a.keystate&1)!=0)&&((a.keystate&4)!=0))){if(a.dir==-1){if(a.hs<0){a.hs+=gs.friction}else{a.hs=0;a.dir=0}}if(a.dir==1){if(a.hs>0){a.hs-=gs.friction}else{a.hs=0;a.dir=0}}}}function updateenemyai(b){if(collide(b,b.x,b.y+1)){var a=0;if(b.dir==0){if((!collide(b,b.x+1,b.y))&&((collide(b,b.x+(b.w/2),b.y+b.h)))){a|=4}if((a==0)&&(!collide(b,b.x-1,b.y))&&(collide(b,b.x-(b.w/2),b.y+b.h))){a|=1}b.keystate|=a}else{if(b.dir==1){if((collide(b,b.x+1,b.y))||(!collide(b,b.x+(b.w/2),b.y+b.h))){b.keystate=0}}else{if(b.dir==-1){if((collide(b,b.x-1,b.y))||(!collide(b,b.x-(b.w/2),b.y+b.h))){b.keystate=0}}}}}}function updateanimation(a){switch(a.dir){case -1:a.e.classList.add("left");a.e.classList.remove("right");break;case 0:a.e.classList.remove("left");a.e.classList.remove("right");break;case 1:a.e.classList.remove("left");a.e.classList.add("right");break;default:break}if(a.j){a.e.classList.add("jump")}else{a.e.classList.remove("jump")}if(a.f){a.e.classList.add("fall")}else{a.e.classList.remove("fall")}if((a.d)||(a.htime>0)){a.e.classList.add("duck")}else{a.e.classList.remove("duck")}if(a.htime>0){a.e.classList.add("hurt")}else{a.e.classList.remove("hurt")}if((a.dir==0)&&(a.hs==0)&&(a.vs==0)){a.e.classList.add("idle")}else{a.e.classList.remove("idle")}if((a.dir!=0)&&(!a.j)&&(!a.f)){a.e.classList.add("walk")}else{a.e.classList.remove("walk")}}function updatemovements(a){offmapcheck(a);groundcheck(a);jumpcheck(a);collisioncheck(a);standcheck(a);if(a.keystate!=0){if(((a.keystate&1)!=0)&&((a.keystate&4)==0)){a.hs=a.htime==0?-a.speed:-2;a.dir=-1}if(((a.keystate&4)!=0)&&((a.keystate&1)==0)){a.hs=a.htime==0?a.speed:2;a.dir=1}}if(a.htime>0){a.htime--}updateanimation(a)}function removetilebyid(c){var b;do{b=0;for(var a=0;a<gs.tiles.length;a++){if(gs.tiles[a].id==c){gs.tiles[a].e.remove();gs.tiles.splice(a,1);b++;break}}}while(b>0)}function calcHypotenuse(d,c){return(Math.sqrt((d*d)+(c*c)))}function removenearesttilebyid(a,g,f){var d=-1;var c=-1;for(var b=0;b<gs.tiles.length;b++){if(gs.tiles[b].id==f){var e=calcHypotenuse(Math.abs(a-gs.tiles[b].offsetLeft),Math.abs(g-gs.tiles[b].offsetTop));if((c==-1)||(e<c)){d=b;c=e}}}if(d!=-1){gs.tiles[d].e.remove();gs.tiles.splice(d,1)}}function clearobjects(a){for(var b=0;b<a.length;b++){a[b].e.remove()}a.splice(0,a.length)}function checkplayercollectable(d){var c={offsetLeft:d.x+(d.w/4),offsetTop:d.y+(d.h/2),clientWidth:(d.w/2),clientHeight:(d.h/2)};for(var b=0;b<gs.things.length;b++){var a={offsetLeft:gs.things[b].x,offsetTop:gs.things[b].y,clientWidth:gs.things[b].w,clientHeight:gs.things[b].h};if(overlap(a,c)){switch(gs.things[b].id){case 21:gs.score+=5;gs.music.play_collect(0);break;case 22:removenearesttilebyid(gs.things[b].x,gs.things[b].y,6);gs.music.play_collect(1);break;case 23:removenearesttilebyid(gs.things[b].x,gs.things[b].y,7);gs.music.play_collect(1);break;default:break}gs.things[b].e.remove();gs.things.splice(b,1);return}}}function checkplayerenemy(d){var c={offsetLeft:d.x+(d.w/4),offsetTop:d.y+(d.h/2),clientWidth:(d.w/2),clientHeight:(d.h/2)};for(var b=0;b<gs.enemies.length;b++){var a={offsetLeft:gs.enemies[b].x+(gs.enemies[b].w/4),offsetTop:gs.enemies[b].y+(gs.enemies[b].h/2),clientWidth:(gs.enemies[b].w/2),clientHeight:(gs.enemies[b].h/2)};if(overlap(a,c)){if(((c.offsetTop+(c.clientHeight/3))<a.offsetTop)&&(d.f)){gs.enemies[b].e.remove();gs.enemies.splice(b,1);d.j=true;d.f=false;d.vs=-(d.jumpspeed/2)}else{if(d.htime==0){d.lf-=(d.d==true?5:10);showhealth();if(d.lf<=0){gs.state=1;clearplayfield();document.getElementById("player").innerHTML="";show_title()}d.htime=60;d.d=true}}return}}}function buildalphablockstyle(a){return"<style>.alphablock { font-size:0px; display:inline-block; margin-bottom: "+(a/3)+"px; } .block { display:inline-block; width:"+a+"px; height:"+a+"px; border-top-left-radius:"+(a/2)+"px; border-bottom-right-radius:"+(a/2)+"px; } .filled { background-color:#00ff00; background: linear-gradient(to bottom, rgba(0,255,0,0) 0%,rgba(0,255,0,1) 33%,rgba(0,255,0,1) 66%,rgba(0,255,0,0) 100%); }</style>"}function update(){pollGamepads();updatemovements(gs.player);for(var a=0;a<gs.enemies.length;a++){updateenemyai(gs.enemies[a]);updatemovements(gs.enemies[a])}checkplayerenemy(gs.player);checkplayercollectable(gs.player)}function rafcallback(c){if(gs.lasttime>0){gs.acc+=((c-gs.lasttime)/1000);if((gs.acc>gs.step)&&((gs.acc/gs.step)>(60*15))){gs.acc=gs.step*2}while(gs.acc>gs.step){update();gs.acc-=gs.step}if(gs.state!=2){return}if(levelcomplete()){var d=gs.level+1;if(d>=levels.length){gs.state=3;clearplayfield();gs.player.e.style.left="33%";gs.player.e.style.top="33%";gs.player.e.style.width="256px";gs.player.e.style.height="256px";gs.player.e.classList.remove("left");gs.player.e.classList.remove("right");gs.player.e.classList.remove("jump");gs.player.e.classList.remove("fall");gs.player.e.classList.remove("duck");gs.player.e.classList.remove("walk");var b=document.getElementById("ui");var a=buildalphablockstyle(12)+'<div id="title" style="background:none;"></div>';b.innerHTML=a;gs.writer.write("title","YAY! WE'RE BACK ONLINE!!");setTimeout(function(){document.getElementById("player").innerHTML="";show_title();gs.state=1},20000)}else{launchgame(d)}}redraw()}gs.lasttime=c;if(gs.state==2){window.requestAnimationFrame(rafcallback)}}function updatekeystate(b,a){switch(b.which){case 37:case 65:case 90:if(a==1){gs.player.keystate|=1}else{gs.player.keystate&=~1}b.preventDefault();break;case 38:case 87:case 59:if(a==1){gs.player.keystate|=2}else{gs.player.keystate&=~2}b.preventDefault();break;case 39:case 68:case 88:if(a==1){gs.player.keystate|=4}else{gs.player.keystate&=~4}b.preventDefault();break;case 40:case 83:case 190:if(a==1){gs.player.keystate|=8}else{gs.player.keystate&=~8}b.preventDefault();break;case 13:case 32:if(a==1){gs.player.keystate|=16}else{gs.player.keystate&=~16}b.preventDefault();if(gs.state==1){hide_screen();gs.state=2;launchgame(0)}break;case 27:if(gs.state==2){gs.state=1;clearplayfield();document.getElementById("player").innerHTML="";show_title()}b.preventDefault();break;default:break}}function addtile(a,f,e,d){var c=document.createElement("div");var b={};c.innerHTML=d;c.style.position="absolute";c.style.left=a+"px";c.style.top=f+"px";c.style.width=gs.tilewidth+"px";c.style.height=gs.tileheight+"px";c.classList.add("tile");c.classList.add("tile_"+e);b.e=c;b.id=e;b.offsetLeft=a;b.offsetTop=f;b.clientWidth=gs.tilewidth;b.clientHeight=gs.tileheight;gs.tiles.push(b);document.getElementById("playfield").appendChild(c)}function addtiles(f){var a,e,d,c;for(e=0;e<(f.height+2);e++){addtile(0,e*f.tileheight,1,"");addtile((f.width+1)*f.tilewidth,e*f.tileheight,1,"")}for(a=0;a<(f.width+2);a++){addtile(a*f.tilewidth,0,1,"");addtile(a*f.tilewidth,(f.height+1)*f.tileheight,1,"")}for(e=0;e<f.height;e++){for(a=0;a<f.width;a++){d=f.layers[0].data[(e*f.width)+a]||0;switch(d){case 2:case 3:case 4:case 5:var b='<svg version="1.1" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><g transform="translate(122.86 -368.93)"><path d="m-85.557 387.84 10.655 5.85 10.746-5.85 5.3038 2.9012v-17.804h-64.005v17.804l5.3525 2.9488 10.649-5.85 10.65 5.85 10.649-5.85" fill="#2185d5"/><path d="m-58.852 372.93v-3.9988h-64.005v3.9988h64.005" fill="#2493ec"/><path d="m-96.206 418.09-5.2987-2.95h-0.0487v-0.0488l-5.3025-2.9-10.649 5.8988-5.3525-2.95v17.798h64.005v-17.798l-5.3038-2.9488-10.746 5.8988-10.655-5.8988-10.649 5.8988" fill="#303841"/><path d="m-96.206 399.74-5.2987-3.5012-0.0487-0.0488-5.3025-3.55-10.649 7.1-5.3525-3.55v18.95l5.3525 2.95 10.649-5.8988 5.3025 2.9v0.0488h0.0487l5.2987 2.95 10.649-5.8988 10.655 5.8988 10.746-5.8988 5.3038 2.9488v-18.95l-5.3038-3.55-10.746 7.1-10.655-7.1-10.649 7.1" fill="#3a4750"/><path d="m-74.902 393.69-10.655-5.85-10.649 5.85-10.65-5.85-10.649 5.85-5.3525-2.9488v5.4488l5.3525 3.55 10.649-7.1 5.3025 3.55 0.0487 0.0488 5.2987 3.5012 10.649-7.1 10.655 7.1 10.746-7.1 5.3038 3.55v-5.4488l-5.3038-2.9012-10.746 5.85" fill="#f3f3f3"/></g></svg>';switch(gs.level%4){case 1:b=b.replace("#2493ec","#ff5960");b=b.replace("#2185d5","#dd4e54");b=b.replace("#f3f3f3","#ead94c");b=b.replace("#3a4750","#5d433e");b=b.replace("#303841","#4a3632");break;case 2:b=b.replace("#2493ec","#ffe580");b=b.replace("#2185d5","#ffd944");b=b.replace("#f3f3f3","#94dd4d");b=b.replace("#3a4750","#49b47e");b=b.replace("#303841","#409f6e");break;case 3:b=b.replace("#2493ec","#3a7080");b=b.replace("#2185d5","#2c5460");b=b.replace("#f3f3f3","#bbdc2f");b=b.replace("#3a4750","#67bd39");b=b.replace("#303841","#59a331");break;default:break}c=b;break;case 6:case 7:c='<div class="boltnw"></div><div class="boltne"></div><div class="boltsw"></div><div class="boltse"></div><div class="keyhole"></div><div class="keyhole2"></div>';break;default:c="";break}if(d!=0){addtile((a+1)*f.tilewidth,(e+1)*f.tileheight,d,c)}}}}function addenemy(b,g,d,e,a){var c=document.createElement("div");var f=new st(c);c.innerHTML='<div class="body"><div class="eye"><div class="iris"></div></div></div><div class="eyelid"></div><div class="leg rightleg"></div><div class="leg leftleg"></div>';c.style.position="absolute";c.style.left=b+"px";c.style.top=g+"px";c.style.width=d+"px";c.style.height=e+"px";c.classList.add(a);f.sx=f.x=b;f.sy=f.y=g;f.w=d;f.h=e;f.speed=2;gs.enemies.push(f);document.getElementById("playfield").appendChild(c)}function addcharacters(c){var b,a;for(a=0;a<c.layers[1].objects.length;a++){b=c.layers[1].objects[a];switch(b.gid){case 11:gs.player.sx=gs.player.x=(b.x+c.tilewidth);gs.player.sy=gs.player.y=b.y;gs.player.e.style.width=c.tilewidth+"px";gs.player.e.style.height=c.tileheight+"px";gs.player.e.style.left=gs.player.x+"px";gs.player.e.style.top=gs.player.y+"px";break;case 12:addenemy(b.x+c.tilewidth,b.y,c.tilewidth,c.tileheight,"enemy");break;default:break}}}function addcollectable(b,f,e){var d=document.createElement("div");var a={};d.innerHTML="";d.style.position="absolute";d.style.left=b+"px";d.style.top=f+"px";d.classList.add("thing");d.classList.add("thing_"+e);switch(e){case 22:case 23:var c='<svg version="1.1" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64"><g transform="translate(0,-988.36218)"><path d="m 43.398026,1008.4725 c -4.299191,-4.8065 -13.181079,-3.8254 -16.282938,1.8485 -1.516253,2.4844 -1.944056,5.5723 -1.29188,8.397 1.290383,1.7876 -0.798234,3.5216 -2.049856,4.6041 -2.006588,1.926 -3.96479,3.9044 -5.820874,5.9765 -1.497402,2.7639 1.338949,6.4958 4.388683,5.9591 1.251301,0.2333 2.837849,0.4242 3.804495,-0.5882 0.460412,-1.3367 -0.609204,-3.656 1.623782,-3.9193 0.997013,0.03 3.156992,0.7497 2.76017,-1.0893 -0.197924,-1.0278 -0.2113,-2.0929 -0.335332,-3.1356 3.56812,-0.1092 7.410045,0.6341 10.697171,-1.1559 5.414104,-2.7136 7.449556,-10.5664 3.742596,-15.4433 -0.364901,-0.5219 -0.778663,-1.0097 -1.236017,-1.4529 m -11.60125,7.5 c -0.273281,-3.2932 4.333359,-5.6316 6.789872,-3.3768 2.726289,1.9244 1.738708,7.0436 -1.677202,7.5127 -2.450021,0.5354 -5.337533,-1.504 -5.11267,-4.1359 z" style="fill:#dd4e54;fill-opacity:1;fill-rule:nonzero;stroke:none" /></g></svg>';if(e==22){c=c.replace("#dd4e54","#49b47e")}d.innerHTML=c;break;default:break}a.e=d;a.id=e;a.x=b;a.y=f;a.w=levels[gs.level].tilewidth;a.h=levels[gs.level].tileheight;gs.things.push(a);document.getElementById("playfield").appendChild(d)}function addcollectables(c){var b,a;for(a=0;a<c.layers[2].objects.length;a++){b=c.layers[2].objects[a];addcollectable(b.x+c.tilewidth,b.y,b.gid)}}function addstar(a,c){var b=document.createElement("div");b.style.left=a+"px";b.style.top=c+"px";b.classList.add("star");document.getElementById("background").appendChild(b)}function clearplayfield(){clearobjects(gs.tiles);clearobjects(gs.things);clearobjects(gs.enemies);var a=document.getElementById("background");a.innerHTML="";a.style.width="0px";a.style.height="0px";window.scrollTo(0,0)}function loadlevel(){var a=gs.level;gs.tilerows=levels[a].height;gs.tilecolumns=levels[a].width;document.getElementById("playfield").setAttribute("level",a%4);gs.score=0;clearplayfield();addtiles(levels[a]);addcollectables(levels[a]);addcharacters(levels[a]);gs.player.lf=100}function showhealth(){var b=document.getElementById("ui");var a=buildalphablockstyle(12)+'<div id="health"></div>';var d="";for(var c=0;c<10;c++){if(gs.player.lf>=((c+1)*10)){d+="|"}else{d+="-"}}b.innerHTML=a;gs.writer.write("health",d);setTimeout(function(){var e=document.getElementById("health");if((e!=undefined)&&(e!=null)){e.innerHTML=""}},3000)}function launchgame(e){var b=document.getElementById("ui");var a=buildalphablockstyle(12)+'<div id="title" style="background:none;"></div>';b.innerHTML=a;gs.writer.write("title","Level "+(e+1));setTimeout(function(){if(gs.state==2){document.getElementById("ui").innerHTML=""}},3000);gs.level=e;gs.player.e=document.getElementById("player");gs.player.w=levels[gs.level].tilewidth;gs.player.h=levels[gs.level].tileheight;gs.player.e.innerHTML='<div class="body"><div class="eye"><div class="iris"></div></div><div class="eyelid"></div></div><div class="leg rightleg"></div><div class="leg leftleg"></div>';loadlevel();var d=document.getElementById("background");d.style.width=((gs.tilecolumns+2)*gs.tilewidth)+"px";d.style.height=((gs.tilerows+2)*gs.tileheight)+"px";for(var c=0;c<300;c++){addstar(gs.randoms.rnd(gs.tilecolumns*gs.tilewidth),gs.randoms.rnd(gs.tilerows*gs.tileheight))}window.requestAnimationFrame(rafcallback)}function show_title(){var b=document.getElementById("ui");var a=buildalphablockstyle(12)+'<div id="title"></div><div id="backstory"></div>';b.innerHTML=a;gs.writer.write("title","Planet");gs.writer.write("title","FIGADORE");gs.writer.write("title","has gone");gs.writer.write("title","OFFLINE!");gs.writer.write("backstory","Fred lives on planet Figadore in the Hercules cluster, he likes watching cat videos from planet Earth, but the network link has gone OFFLINE!  Help Fred by unlocking doors, solving puzzles and collecting cubes to pay for the entanglement repolarisation required to get his planet back online. Keys unlock nearest lock of same colour, you need to collect all the gold cubes and squash all the guards to progress through the levels."+String.fromCharCode(13)+" "+String.fromCharCode(13)+"WASD or cursors to move, ENTER or SPACE to jump, or browser supported gamepad. Press jump to start")}function show_screen(d){var b=document.getElementById("ui");var a=buildalphablockstyle(d)+'<div id="console">';for(var c=1;c<8;c++){a+='<span id="console_'+c+'"></span>'}a+='<span id="cursor"></span></div>';b.innerHTML=a}function hide_screen(){var a=document.getElementById("ui");a.innerHTML=""}function start_music(){gs.music.play_tune();setInterval(function(){gs.music.randoms.seeda=3;gs.music.randoms.seedb=6;gs.music.randoms.seedc=6;gs.music.randoms.seedd=4;gs.music.play_tune()},((1*60)+42)*1000)}function playfieldsize(){gs.scale=(window.innerWidth/(gs.tilewidth*10));document.getElementById("wrapper").style="width:"+(gs.tilewidth*10)+"px; height:"+(((gs.tilewidth*10)/4)*3)+"px; transform-origin:0px 0px; transform:scale("+gs.scale+");";try{window.scrollTo({left:(gs.player.x*gs.scale)-(window.innerWidth/2),top:(gs.player.y*gs.scale)-(window.innerHeight/2),behaviour:"smooth"})}catch(a){window.scrollTo((gs.player.x*gs.scale)-(window.innerWidth/2),(gs.player.y*gs.scale)-(window.innerHeight/2))}}function init(){document.onkeydown=function(a){a=a||window.event;updatekeystate(a,1)};document.onkeyup=function(a){a=a||window.event;updatekeystate(a,0)};window.ondragstart=function(a){a=a||window.event;a.preventDefault()};gamepadscan();window.addEventListener("gamepadconnected",function(a){a=a||window.event;gamepadHandler(a,true)});window.addEventListener("gamepaddisconnected",function(a){a=a||window.event;gamepadHandler(a,false)});window.addEventListener("resize",function(){playfieldsize()});playfieldsize();show_screen(4);gs.timeline.add(0,function(){gs.writer.write("cursor","_")});gs.timeline.add(0,function(){gs.writer.typewrite("console_1","search 'cat videos'")});gs.timeline.add(3000,function(){gs.writer.write("console_2","CONNECTING TO PARALLAX SHIFT...")});gs.timeline.add(3100,function(){gs.dialler.randomdial(10)});gs.timeline.add(3100,function(){gs.dialler.carriertone(10)});gs.timeline.add(11000,function(){gs.writer.write("console_3","418 OFFLINE")});gs.timeline.add(12000,function(){gs.writer.typewrite("console_4","run project 23")});gs.timeline.add(15000,function(){gs.writer.write("console_5","451 PARTICLE ACCELERATOR NOT CHARGED")});gs.timeline.add(16000,function(){gs.writer.typewrite("console_6","execute order 66")});gs.timeline.add(19000,function(){gs.writer.write("console_7","429 FILE NOT FOUND")});gs.timeline.add(20000,function(){hide_screen();gs.state=1;show_title();start_music()});gs.timeline.addcallback(function(){gs.writer.typechar()});gs.timeline.begin()}window.onload=function(){init()};