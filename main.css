body
{
  position:absolute;
  overflow:hidden;
  top:0px;
  left:0px;
  width:100%;
  height:100%;
  margin:0px;
  background-color:black;
  color:white;
  font-size:0px;
  white-space:nowrap;
}

#wrapper
{
  transform:translate3d(0, 0, 0);
  position:absolute;
  left:0px;
  top:0px;
  width:100%;
  height:100%;
  margin:0px;
  padding:0px;
  font-height:0px;
}

#console
{
  position:absolute;
  overflow:auto; /* allow console content to scroll if long */
  -webkit-overflow-scrolling:touch;
  top:5%;
  left:5%;
  width:90%;
  height:90%;
  box-sizing:border-box;
  border:6px solid #e28809;
  border-radius:10px;
  padding:5px;
  background-color:#000;
  text-align:left;
}

@keyframes flash_cursor
{
  0% { opacity:0; visibility:hidden; }
  50% { opacity:1; visibility:visible; }
  100% { opactiy:0; visibility:hidden; }
}

#cursor
{
  animation-name:flash_cursor;
  animation-duration:1.2s;
  animation-iteration-count:infinite;
}

#title
{
  position:absolute;
  overflow:hidden;
  top:20px;
  left:0px;
  width:100%;
  padding:5px;
  background-color:#000;
  text-align:center;
}

#backstory
{
  position:absolute;
  top:450px;
  left:5%;
  width:90%;
  white-space:normal;
  max-height:40vh; /* limit height and allow scrolling on small screens */
  overflow:auto;
  -webkit-overflow-scrolling:touch;
}

#backstory .block
{
  width:3px;
  height:3px;
}

#background
{
  background:linear-gradient(to bottom, #000000 0%,#2a5298 100%);
}

#ui
{
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  text-align:center;
  overflow:auto; /* allow scrolling when UI content is long (mobile) */
  -webkit-overflow-scrolling:touch; /* smooth momentum scrolling on iOS */
}

/* Fullscreen toggle button */
#fs_button
{
  position:fixed;
  left:60px; /* sit next to the info (i) button on the left */
  top:8px;
  z-index:2147483647; /* very high so it's always visible */
  background:rgba(0,0,0,0.6);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
  border-radius:50%;
  font-size:16px;
  width:20px;
  height:20px;
  padding:0; /* Remove padding completely */
  display:flex;
  align-items:center;
  justify-content:center;
  line-height:1; /* Ensure text vertical alignment */
  text-align:center; /* Center text horizontally */
}

/* Controls info button */
#info_button {
  position:fixed;
  left:8px;
  top:8px;
  z-index:2147483647; /* very high so it's always visible */
  background:rgba(0,0,0,0.6);
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
  padding:8px 12px;
  border-radius:50%;
  font-size:16px;
  font-family:serif;
  font-style:italic;
  font-weight:bold;
  width:20px;
  height:20px;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* Controls panel */
#controls_panel {
  position:fixed;
  left:10px;
  top:45px;
  background:rgba(0,0,0,0.85);
  color:#fff;
  border:1px solid rgba(255,255,255,0.2);
  border-radius:8px;
  padding:12px;
  font-size:14px;
  width:280px;
  max-width:80vw;
  z-index:2147483646;
  text-align:left;
  display:none; /* initially hidden */
  white-space:normal;
}

#controls_panel h3 {
  margin:0 0 8px 0;
  text-align:center;
  font-size:16px;
}

#controls_panel .section {
  margin-bottom:10px;
  padding-bottom:10px;
  border-bottom:1px solid rgba(255,255,255,0.15);
}

#controls_panel .section:last-child {
  margin-bottom:0;
  padding-bottom:0;
  border-bottom:none;
}

#controls_panel .touch-controls {
  display:flex;
  align-items:center;
  justify-content:center;
  margin:10px 0;
}

#controls_panel .touch-half {
  flex:1;
  text-align:center;
  padding:12px 4px;
  border:1px dashed rgba(255,255,255,0.3);
  margin:0 4px;
  font-size:12px;
  border-radius:6px;
}

#controls_panel .keys {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  margin:8px 0;
}

#controls_panel .key {
  display:inline-block;
  padding:4px 8px;
  margin:3px;
  background:rgba(255,255,255,0.15);
  border-radius:4px;
  border:1px solid rgba(255,255,255,0.3);
  font-family:monospace;
  font-size:12px;
}

#controls_panel .close {
  text-align:center;
  margin-top:12px;
}

#controls_panel .close button {
  padding:4px 12px;
  background:rgba(255,255,255,0.2);
  border:1px solid rgba(255,255,255,0.3);
  border-radius:4px;
  color:#fff;
  font-size:12px;
  cursor:pointer;
}

#controls_panel .close button:active {
  background:rgba(255,255,255,0.3);
}

/* Rotate prompt shown when mobile is in portrait while fullscreen */
#rotatePrompt {
  position:fixed;
  left:0;
  top:0;
  right:0;
  bottom:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.8);
  z-index:2147483646;
}

#rotatePrompt .rotate_inner {
  color:#fff;
  background:rgba(0,0,0,0.6);
  padding:16px 20px;
  border-radius:8px;
  font-size:18px;
  text-align:center;
}

/* Mobile rotate/fullscreen hint */
#mobile_hint
{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:10px;
  background:rgba(0,0,0,0.7);
  color:#fff;
  padding:10px 14px;
  border-radius:6px;
  z-index:10000;
  font-size:12px;
}

/* Orientation modal removed */

/* Force landscape display by rotating the wrapper when device is held portrait */
.force-landscape #wrapper
{
  position:fixed;
  left:50%;
  top:50%;
  width:100vh; /* swap dimensions */
  height:100vw;
  transform-origin:center center;
  transform: translate(-50%,-50%) rotate(90deg);
}

#start_button_container {
  display:block;
  margin:14px auto 0 auto; /* place under title in normal flow */
  text-align:center;
  z-index:10001;
}
#start_button {
  font-size:22px;
  padding:12px 24px;
  border-radius:8px;
  background:linear-gradient(180deg,#69ff33,#068f1b);
  border:2px solid rgba(0,0,0,0.2);
  color:#222;
  cursor:pointer;
  box-shadow:0 4px 8px rgba(0,0,0,0.3);
}
#start_button:active { transform:translateY(1px); }

/* Title screen container: vertical column layout */
#title_screen {
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  gap:12px;
  padding-top:10px;
}

/* When title/backstory are inside the title_screen, make them flow (override absolute rules) */
#title_screen #title {
  position:static;
  overflow:visible;
  top:auto;
  left:auto;
  width:auto;
  padding:5px;
  background:transparent;
  text-align:center;
}

#title_screen #backstory {
  position:static;
  top:auto;
  left:auto;
  width:90%;
  max-width:720px;
  white-space:normal;
  max-height:40vh; /* keep the scrolling behaviour */
  overflow:auto;
  -webkit-overflow-scrolling:touch;
}

/* If the fullscreen button is moved into the title screen, make it flow below the start button */
#title_screen #fs_button {
  position:static;
  margin-top:8px;
  display:inline-block;
}

@keyframes twinkle
{
  0% { opacity:1; }
  50% { opacity:0; }
  100% { opactiy:1; }
}

.star
{
  position:absolute;
  display:inline-block;
  width:1px;
  height:1px;
  background-color:white;
  opacity:1;

  animation-name:twinkle;
  animation-duration:5s;
  animation-iteration-count:infinite;
}

.star:nth-of-type(5n+1)
{
  animation-delay:1s;
}

.star:nth-of-type(5n+2)
{
  animation-delay:2s;
}

.star:nth-of-type(5n+3)
{
  animation-delay:3s;
}

.star:nth-of-type(5n+4)
{
  animation-delay:4s;
}
